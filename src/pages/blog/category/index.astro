---
import { createTranslate } from '@i18n/translate';
import type { Lang } from '@i18n/types';
import CategoriesListLayout from '@layouts/CategoriesList.astro';
import { getCollection } from 'astro:content';
import { computeAllCategories } from 'utils/blog';

const post = await getCollection('blog-posts');
const allCategories = Array.from(
  computeAllCategories(post, import.meta.env.BASE_URL).values()
);

const lang: Lang = 'it';
const l10n = await createTranslate(lang);
---

<CategoriesListLayout
  lang={lang}
  categories={allCategories}
  title={l10n('categoriesTitle')}
  description={l10n('categoriesDescription')}
/>
